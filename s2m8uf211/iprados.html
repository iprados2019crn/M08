<!DOCTYPE html>
<html lang="es" manifest="cache.manifest">
<head>
  <meta charset="UTF-8">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1.0", user-scalable="no">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="icon" sizes="192x192" href="img/icon.png">
  <link rel="icon" sizes="512x512" href="img/icon.png">
  <link rel="apple-touch-icon" sizes="192x192" href="img/icon.png">
  <link rel="stylesheet" type="text/css" href="iprados.css">
  <title>MusicPlayer</title>
</head>
<body>

<header>
  <div id="usuario">
  <img src="img/user.png"></img>
  </br>
    @Usuario
  </div>
  <div id="lista"><h1>Nombre de la lista</h1></div>
</header>
<div id="general">
  <div id="lateral">
    <a href=""><div class="elemento"><h5>PLAYLIST</h5></div></a>
    <a href=""><div class="elemento"><h5>TRACK</h5></div></a>
    <a href=""><div class="elemento"><h5>ALBUM</h5></div></a>
    <a href=""><div class="elemento"><h5>FAVORITS</h5></div></a>
  </div>
  <div id="drc">



  <div id="reproductor">

  <div id="cosomusica">
    <div class="botons">
      <button class="bck"><</button>
      <button id="playpause"></button>
      <button class="fwd">></button>
    </div>
    <div id="carril"></div>
    <audio id="reproduint" width="500" height="40"  autoplay src="musica/killer.mp3" type="audio/mpeg"></audio>
    <input id="barra" type="range" min="0" max="10000" value="0" step="1">
  </div>

  </div>



  <div id="canciones">
    <div class="cancion">
      <div class="favorito"></div>
      <div class="nombrecancion"></div>
      <div class="autor"></div>
      <div class="duracion"></div>
    </div>
    <div class="cancion">
      <div class="favorito"></div>
      <div class="nombrecancion"></div>
      <div class="autor"></div>
      <div class="duracion"></div>
    </div>
    <div class="cancion">
      <div class="favorito"></div>
      <div class="nombrecancion"></div>
      <div class="autor"></div>
      <div class="duracion"></div>
    </div>
    <div class="cancion">
      <div class="favorito"></div>
      <div class="nombrecancion"></div>
      <div class="autor"></div>
      <div class="duracion"></div>
    </div>
    <div class="cancion">
      <div class="favorito"></div>
      <div class="nombrecancion"></div>
      <div class="autor"></div>
      <div class="duracion"></div>
    </div>
    <div class="cancion">
      <div class="favorito"></div>
      <div class="nombrecancion"></div>
      <div class="autor"></div>
      <div class="duracion"></div>
    </div>
    <div class="cancion">
      <div class="favorito"></div>
      <div class="nombrecancion"></div>
      <div class="autor"></div>
      <div class="duracion"></div>
    </div>
    <div class="cancion">
      <div class="favorito"></div>
      <div class="nombrecancion"></div>
      <div class="autor"></div>
      <div class="duracion"></div>
    </div>
    <div class="cancion">
      <div class="favorito"></div>
      <div class="nombrecancion"></div>
      <div class="autor"></div>
      <div class="duracion"></div>
    </div>
  </div>
</div>
</div>



<script>
var reproduint, playpause, barra;
var vesa, noutemps;

function inicialitzaReproductor() {
reproduint = document.getElementById("reproduint");
playpause = document.getElementById("playpause");
barra = document.getElementById("barra");

playpause.addEventListener("click", playPause, false);
barra.addEventListener("change", posicioAudio, false);
reproduint.addEventListener("timeupdate", actualitzaTemps, false);

playpause.focus();
}

window.onload = inicialitzaReproductor;

function playPause() {
if(reproduint.paused) {
  reproduint.play();
  playpause.blur();
}
else {
  reproduint.pause();
  playpause.focus();
}
}


function posicioAudio() {
var vesa = parseInt(reproduint.duration * (barra.value / 10000));
reproduint.currentTime = vesa;
console.log(reproduint.currentTime);
}


function actualitzaTemps() {
var noutemps = parseInt(reproduint.currentTime * (10000 / reproduint.duration));
barra.value = noutemps;
console.log(barra.value);
}
</script>

</body>
</html>
